---
title: "R4ds Exercises"
author: "Darin Stephenson"
date: "6/1/2021"
output:
  html_document:
    df_print: paged
  pdf_document: default
---


```{r setup, include=FALSE}
require("knitr")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir=normalizePath("..")) #set working directory to the project directory
library(conflicted)
library(tidyverse)
conflict_prefer("select", "dplyr")
conflict_prefer("lag", "dplyr")
conflict_prefer("filter", "dplyr")
```

This document is intended to help our group learn
R using the book <em>R for Data Science</em>. We can interact with R in
at least 3 distinct ways: through the console, through R scripts, and through
R Markdown documents like this one. The value of R Markdown is that you
can intersperse text and R code (and many other things) in the same
document, and then you can run the code directly in the document. It is 
also easy to produce a pdf or html output directly from an R Markdown
file using knitr.

Here is a block of R code as given in Subsection 3.2.2 of the online
version of R for Data Science.

```{r basic_plot,echo=TRUE}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy))
```

Continue below to learn about data visualization from Chapter 3 of R for
Data Science. Create your own branch of the r4ds_students repository and
push changes on your branch to GitHub regularly (at least each day).

```{r ex-3-2, echo = TRUE}
ggplot(data = mpg) + 
  geom_line(mapping = aes(x=displ, y=hwy, color = displ < 5))+
  geom_point(mapping = aes(x=displ, y=hwy, color = displ < 5))
```

```{r ex-3-2, echo = TRUE}
sizes <- expand.grid(size = (0:4) * 2, stroke = (0:4) * 2)
ggplot(sizes, aes(size, stroke, size = size, stroke = stroke)) + 
  geom_abline(slope = -1, intercept = 6, colour = "white", size = 6)+ 
  geom_point(shape = 21, fill = "red") +
  scale_size_identity()
```

```{r ex-3-5, echo = TRUE}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy, color = class)) + 
  facet_wrap(~ class, nrow = 2)
```

```{r ex-3-5 grid, echo = TRUE}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy, color = class)) + 
  facet_grid(drv ~ cyl)
```

```{r ex-3-5-2 grid, echo = TRUE}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = drv, y = cyl))
```

```{r ex-3-5-3 grid, echo = TRUE}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) +
  facet_grid(drv ~ .)

ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) +
  facet_grid(. ~ cyl)
```

```{r ex-3-5-4 grid, echo = TRUE}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) + 
  facet_wrap(~ class, nrow = 2)
```

```{r ex-3-6 grid, echo = TRUE}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_point(mapping = aes(color = class)) + 
  geom_smooth(data = filter(mpg, class == "suv"), se = FALSE)
```

```{r ex-3-6-2 grid, echo = TRUE}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy, color = drv)) +
  geom_point() + 
  geom_smooth(se = FALSE)+
  guides(color = FALSE)
```

```{r ex-3-6-2 grid, echo = TRUE}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point(mapping = aes(color = drv), size = 4) + 
  geom_smooth(se = FALSE, size =2)+
  guides(color = FALSE)
```

```{r ex-3-6-2 grid, echo = TRUE}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point(mapping = aes(color = drv), size = 4) + 
  geom_smooth(mapping = aes(linetype=drv), se = FALSE, size =2)+
  guides(color = FALSE)
```

```{r ex-3-7 grid, echo = TRUE}
ggplot(data = diamonds) + 
  geom_bar(mapping = aes(x = cut))
```

```{r ex-3-7 grid, echo = TRUE}
demo <- tribble(
  ~cut,         ~freq,
  "Fair",       1610,
  "Good",       4906,
  "Very Good",  12082,
  "Premium",    13791,
  "Ideal",      21551
)

ggplot(data = demo) +
  geom_bar(mapping = aes(x = cut, y = freq), stat = "identity")
```

```{r ex-3-7 grid, echo = TRUE}
ggplot(data = diamonds) + 
  geom_bar(mapping = aes(x = cut, y = stat(prop), group = 1))
```

```{r ex-3-7 grid, echo = TRUE}
ggplot(data = diamonds) + 
  stat_summary(
    mapping = aes(x = cut, y = depth),
    fun.min = min,
    fun.max = max,
    fun = median
  )
```

```{r ex-3-7 grid, echo = TRUE}
ggplot(data = diamonds) +
  geom_pointrange(
    mapping = aes(x = cut, y = depth),
    stat = "summary",
    fun.min = min,
    fun.max = max,
    fun = median
  )
```

```{r ex-3-7 grid, echo = TRUE}
demo <- tribble(
  ~cut,         ~freq,
  "Fair",       1610,
  "Good",       4906,
  "Very Good",  12082,
  "Premium",    13791,
  "Ideal",      21551
)

ggplot(data = demo) +
  geom_col(mapping = aes(x = cut, y = freq))
```

```{r ex-3-7 grid, echo = TRUE}
ggplot(data = diamonds) + 
  geom_bar(mapping = aes(x = cut, y = after_stat(prop), group = 1))
ggplot(data = diamonds) + 
  geom_bar(mapping = aes(x = cut, y = after_stat(prop), group = 1, fill = color))
```

```{r}

```

